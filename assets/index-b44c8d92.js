(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))g(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const L of r.addedNodes)L.tagName==="LINK"&&L.rel==="modulepreload"&&g(L)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function g(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function E(e,t){return parseFloat(getComputedStyle(e).getPropertyValue(t))||0}function i(e,t,n){e.style.setProperty(t,n)}function h(e,t,n){i(e,t,E(e,t)+n)}const D=.05,A=document.querySelectorAll("[data-ground]");function F(){i(A[0],"--left",0),i(A[1],"--left",300)}function b(e,t){A.forEach(n=>{h(n,"--left",e*t*D*-1),E(n,"--left")<=-300&&h(n,"--left",600)})}const s=document.querySelector("[data-dino]"),N=.45,O=.0015,x=2,M=100;let l,m,y,S;function $(){l=!1,m=0,y=0,S=0,i(s,"--bottom",0),document.removeEventListener("keydown",v),document.removeEventListener("touchstart",v),document.addEventListener("keydown",v),document.addEventListener("touchstart",v)}function W(e,t){G(e,t),V(e)}function H(){return s.getBoundingClientRect()}function k(){s.src="dino-lose.svg"}function G(e,t){if(l){s.src="dino-stationary.svg";return}y>=M&&(m=(m+1)%x,s.src=`dino-run-${m}.svg`,y-=M),y+=e*t}function V(e){l&&(s.src="dino-jump.svg",h(s,"--bottom",S*e),E(s,"--bottom")<=0&&(i(s,"--bottom",0),l=!1,s.src=`dino-run-${m}.svg`),S-=O*e)}function v(e){e.code&&e.code!=="Space"||l||(e.type==="touchstart"&&e.preventDefault(),S=N,l=!0)}const B=.05,_=800,J=2e3,U=document.querySelector("[data-world]");let w;function z(){w=_,document.querySelectorAll("[data-cactus]").forEach(e=>{e.remove()})}function Y(e,t){document.querySelectorAll("[data-cactus]").forEach(n=>{h(n,"--left",e*t*B*-1),E(n,"--left")<=-100&&n.remove()}),w<=0&&(K(),w=X(_,J)/t),w-=e}function j(){return[...document.querySelectorAll("[data-cactus]")].map(e=>e.getBoundingClientRect())}function K(){const e=document.createElement("img");e.dataset.cactus=!0,e.classList.add("cactus"),i(e,"--left",100),U.append(e),e.src="fire1.svg";let t=0;const n=["fire1.svg","fire2.svg","fire3.svg","fire4.svg"],g=setInterval(()=>{e.src=n[t],t=(t+1)%n.length},250);setTimeout(()=>{clearInterval(g)},4e3)}function X(e,t){return Math.floor(Math.random()*(t-e+1)+e)}const Q=.05,u=[],Z=8e-4,ee=500;function te(){u.forEach(e=>e.remove()),u.length=0}function ne(e,t){u.forEach(n=>{h(n,"--left",e*t*Q*-1),E(n,"--left")<=-10&&(n.remove(),u.shift())}),Math.random()<e*Z&&u.length===0&&oe()}function oe(){const e=document.createElement("div");e.classList.add("item"),i(e,"--left",100),i(e,"--bottom",Math.random()*20+30);const t=document.createElement("img");t.src="leleka1.svg",t.alt="Leleka",t.style.width="auto",t.style.height="200%",t.style.zIndex="-1",e.appendChild(t),document.querySelector("[data-world]").append(e),u.push(e),re(t)}function re(e){let t=!0;const n=setInterval(()=>{if(!e.parentElement){clearInterval(n);return}e.src=t?"leleka2.svg":"leleka1.svg",t=!t},ee)}const C=100,I=40,se=1e-5,R=document.querySelector("[data-world]"),ce=document.querySelector("[data-score]"),c=document.querySelector("[data-start-screen]");q();window.addEventListener("resize",q);document.addEventListener("keydown",d,{once:!0});document.addEventListener("touchstart",d,{once:!0});let f,a,p;function P(e){if(f==null){f=e,window.requestAnimationFrame(P);return}const t=e-f;if(b(t,a),W(t,a),Y(t,a),ae(t),le(t),ie())return de();f=e,window.requestAnimationFrame(P)}function ie(){const e=H();return j().some(t=>ue(t,e))}function ue(e,t){return e.left<t.right&&e.top<t.bottom&&e.right>t.left&&e.bottom>t.top}function ae(e){ne(e,a),a+=e*se}let T=0;function le(e){p+=e*.01,ce.textContent=`Score: ${Math.floor(p)} | Best: ${Math.floor(T)}`}function d(){f=null,a=1,p>T&&(T=p),p=0,te(),F(),$(),z(),c.classList.add("hide"),document.removeEventListener("touchstart",d),document.removeEventListener("keydown",d),window.requestAnimationFrame(P)}function de(){k(),c.textContent="Game Over",c.classList.remove("hide"),c.classList.add("game-over"),c.style.top="50%",c.style.left="50%",c.style.transform="translate(-50%, -50%)",c.style.fontSize="7vw",document.addEventListener("keydown",d,{once:!0}),document.addEventListener("touchstart",d,{once:!0})}function q(){let e;window.innerWidth/window.innerHeight<C/I?e=window.innerWidth/C:e=window.innerHeight/I,R.style.width=`${C*e}px`,R.style.height=`${I*e}px`}
